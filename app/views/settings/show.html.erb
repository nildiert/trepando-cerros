<div class="container mx-auto p-4 flex gap-6">
  <aside class="w-48 space-y-2">
    <ul class="menu bg-base-100 p-2 rounded-box">
      <li>
        <%= link_to athlete_path(@athlete&.id), class: ["flex items-center gap-2", (current_page?(athlete_path(@athlete&.id)) ? "active" : nil)].compact.join(' ') do %>
          <i class="fa-solid fa-chart-line"></i>
          <span>Dashboard</span>
        <% end %>
      </li>
      <% if can? :manage, :settings %>
        <li>
          <%= link_to athlete_settings_path(@athlete&.id), class: ["flex items-center gap-2", (current_page?(athlete_settings_path(@athlete&.id)) ? "active" : nil)].compact.join(' ') do %>
            <i class="fa-solid fa-gear"></i>
            <span>Configuraci√≥n</span>
          <% end %>
        </li>
      <% end %>
    </ul>
  </aside>

  <div class="flex-1 space-y-6">
    <div data-controller="tabs" class="card bg-base-100 shadow w-full">
      <div class="card-body">
        <nav class="border-b border-gray-200 mb-4">
          <ul class="flex space-x-4">
            <li>
              <button class="px-3 py-2 border-b-2 font-medium text-sm" data-tabs-target="tab" data-action="tabs#change">General</button>
            </li>
            <li>
              <button class="px-3 py-2 border-b-2 font-medium text-sm" data-tabs-target="tab" data-action="tabs#change">Perfiles</button>
            </li>
          </ul>
        </nav>
        <div data-tabs-target="panel">
          <p class="text-gray-600">Configuraciones generales.</p>
        </div>
        <div data-tabs-target="panel" class="hidden space-y-4">
          <div>
            <h3 class="font-semibold mb-2">Perfiles disponibles</h3>
            <ul class="list bg-base-100 rounded-box shadow-md">
              <li class="p-4 pb-2 text-xs opacity-60 tracking-wide">
                Perfiles registrados
              </li>
              <% @roles.each_with_index do |role, idx| %>
                <li class="list-row">
                  <div class="text-4xl font-thin opacity-30 tabular-nums">
                    <%= '%02d' % (idx + 1) %>
                  </div>
                  <div class="list-col-grow">
                    <div class="capitalize"><%= role.name %></div>
                  </div>
                  <%= link_to role_path(role), class: 'btn btn-square btn-ghost' do %>
                    <svg class="size-[1.2em]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                      <g stroke-linejoin="round" stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor">
                        <path d="M6 3L20 12 6 21 6 3z"></path>
                      </g>
                    </svg>
                  <% end %>
                </li>
              <% end %>
            </ul>
          </div>
          <%= form_with url: athlete_settings_path(@athlete&.id), method: :patch do %>
            <div class="form-control mb-4">
              <label class="label cursor-pointer">
                <%= check_box_tag :race_predictor, '1', @race_predictor.enabled?, class: 'checkbox' %>
                <span class="label-text ml-2">Habilitar predictor de carrera</span>
              </label>
            </div>
            <button type="submit" class="btn btn-primary flex items-center gap-1">
              <i class="fa-solid fa-floppy-disk text-primary"></i>
              <span>Guardar</span>
            </button>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
