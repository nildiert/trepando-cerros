<div class="container mx-auto p-4 space-y-6">
  <h2 class="text-xl font-semibold"><%= @role.name.capitalize %></h2>

  <%= form_with model: @role, url: role_path(@role), method: :patch do %>
    <div class="space-y-4">
      <% @permissions.each do |perm| %>
        <% record = @role.role_permissions.find_by(name: perm) %>
        <div class="form-control">
          <div class="flex items-center justify-between">
            <span class="label-text capitalize"><%= perm.tr('_', ' ') %></span>
            <label class="toggle text-base-content">
              <%= check_box_tag perm, '1', record&.enabled? %>
              <svg aria-label="enabled" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <g stroke-linejoin="round" stroke-linecap="round" stroke-width="4" fill="none" stroke="currentColor">
                  <path d="M20 6 9 17l-5-5"></path>
                </g>
              </svg>
              <svg aria-label="disabled" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
                <path d="M18 6 6 18" />
                <path d="m6 6 12 12" />
              </svg>
            </label>
          </div>
        </div>
      <% end %>
    </div>
    <button type="submit" class="btn btn-primary mt-4">Guardar</button>
  <% end %>
</div>
