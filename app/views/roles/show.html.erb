<div class="container mx-auto p-4 space-y-6">
  <h2 class="text-xl font-semibold"><%= @role.name.capitalize %></h2>

  <%= form_with model: @role, url: role_path(@role), method: :patch do %>
    <div class="space-y-4">
      <% @permissions.each do |perm| %>
        <% record = @role.role_permissions.find_by(name: perm) %>
        <div class="form-control">
          <div class="flex items-center justify-between">
            <span class="label-text capitalize"><%= perm.tr('_', ' ') %></span>
            <%= check_box_tag perm, '1', record&.enabled?, class: 'toggle toggle-primary' %>
          </div>
        </div>
      <% end %>
    </div>
    <button type="submit" class="btn btn-primary mt-4">Guardar</button>
  <% end %>
</div>
